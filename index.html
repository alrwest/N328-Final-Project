<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Linking external CSS & JavaScript files-->
    <link rel="stylesheet" href="css/styles.css" />
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.5.0/lib/p5.js"></script>
    <script src="https://d3js.org/d3-zoom.v1.min.js"></script>
    <script src="js/app.js"></script>

    <title>Allyson West Final | N328</title>
  </head>
  <body>
    <div class="navbar">
      <div class="logo">
        <p>
          N328 <br />Final <br />
          Project
        </p>
        <p id="symbol">|</p>
      </div>
      <div class="nav">
        <a href="index.html">Home</a>
        <a href="about.html">About</a>
        <a href="link.html">Video</a>
      </div>
    </div>
    <h2 id="visual-header">Visual Presentation</h2>

    <!-- creating area for visual-->
    <div class="visual">

      <!-- Chart header -->
      <text>Top-Selling PlayStation 4 Genres in North America VS Japan <br> (2014-2018) <br> (in Millions sold) </text>
      <svg id = "svgChart" width="500" height="300">
        <rect id = "legend" x = "425" y ="10">
        </rect>
        <text class = "key-label" x = "440" y = "18"> Countries </text>
        <rect class = "key" x = "435" y = "30" fill = "#CCEAF5"></rect>
        <text class = "key-label" x = "455" y = "35"> N.A </text>
        <rect class = "key" x = "435" y = "55" fill = "#614051"></rect>
        <text class = "key-label" x = "455" y = "60"> Japan </text>
        <!-- North American Chart-->
        <rect
          class="northAmerica"
          id="bar0"
          x="0"
          y="50"
          width="20"
          height="202"
          fill = "#CCEAF5"
        />
        <rect
          class="northAmerica"
          id="bar1"
          x="50"
          y="50"
          width="20"
          height="102"
          fill = "#CCEAF5"
        />
        <rect
          class="northAmerica"
          id="bar2"
          x="100"
          y="50"
          width="20"
          height="202"
          fill = "#CCEAF5"
        />

        <rect
          class="northAmerica"
          id="bar3"
          x="150"
          y="50"
          width="20"
          height="202"
          fill = "#CCEAF5"
        />
        <rect
          class="northAmerica"
          id="bar4"
          x="200"
          y="50"
          width="20"
          height="202"
          fill = "#CCEAF5"
        />
        <rect
          class="northAmerica"
          id="bar5"
          x="250"
          y="50"
          width="20"
          height="202"
          fill = "#CCEAF5"
        />

        <rect
          class="northAmerica"
          id="bar6"
          x="300"
          y="50"
          width="20"
          height="202"
          fill = "#CCEAF5"
        />
        <rect
          class="northAmerica"
          id="bar7"
          x="350"
          y="50"
          width="20"
          height="202"
          fill = "#CCEAF5"
        />
        <rect
          class="northAmerica"
          id="bar8"
          x="400"
          y="50"
          width="20"
          height="202"
          fill = "#CCEAF5"
        />
        <rect
          class="northAmerica"
          id="bar9"
          x="450"
          y="50"
          width="20"
          height="202"
          fill = "#CCEAF5"
        />

        <!-- Japanese Chart -->
        <rect class="Japan" id="bar10" x="25" y="50" width="20" height="202" fill = "#614051"/>
        <rect class="Japan" id="bar11" x="75" y="50" width="20" height="202" fill = "#614051"/>
        <rect class="Japan" id="bar12" x="125" y="50" width="20" height="202" fill = "#614051" />

        <rect class="Japan" id="bar13" x="175" y="50" width="20" height="202" fill = "#614051"/>
        <rect class="Japan" id="bar14" x="225" y="50" width="20" height="202"fill = "#614051" />
        <rect class="Japan" id="bar15" x="275" y="50" width="20" height="202"fill = "#614051" />

        <rect class="Japan" id="bar16" x="325" y="50" width="20" height="202" fill = "#614051" />
        <rect class="Japan" id="bar17" x="375" y="50" width="20" height="202" fill = "#614051"/>
        <rect class="Japan" id="bar18" x="425" y="50" width="20" height="202" fill = "#614051"/>
        <rect class="Japan" id="bar19" x="475" y="50" width="20" height="202" fill = "#614051" />

        <!-- drawing axis-->
        <line x1="0" x2="500" y1="252" y2="252" stroke="black"></line>
        <line x1="0" x2="0" y1="252" y2="200" stroke="black"></line>

        <!-- Making Labels -->
        <div class="x-axis">
          <p>Shooter</p>
          <p>Action</p>
          <p>Sports</p>
          <p>RPG</p>
          <p>Action-<br>Adventure</p>
          <p>Fighting</p>
          <p>Adventure</p>
          <p>Racing</p>
          <p>Platform</p>
          <p>Misc.</p>
        </div>
        <div class="y-axis">
          <div class="y-axis-label"> </div>
          <p>50</p>
          <p>25</p>
          <p>0</p>
        </div>
      </svg>

      <!-- Beginning JavaScript -->
      <script type="text/JavaScript">

        //filling arrays with data
        var northAmerica = [ 50.5, 48.15, 33.31, 22.15, 22.30,8.58, 5.27, 5.86, 5.48, 3.64 ];
        var Japan = [ 10.27, 4.42, 1.83, 9.42, 1.96, 1.67, 1.64, 0.76, 0.67, 0.96 ];



        //selecting data for North America side of the chart
        d3.select('svg').selectAll(".northAmerica").data(northAmerica)
            .attr('height', function(data) {
              return data;
            })
            .attr('y', function(d) {
                return 202 - d + 50;
            })

            .on('mouseover', function(d,i) {
              console.log("mouseover on", this);
            d3.select(this)
              .transition()
              .attr('fill', "rgb(240, 165, 3, 1)");
            })

            .on('mouseout', function(d,i) {
              console.log("mouseover out", this);
            d3.select(this)
              .transition()
              .attr('fill', '#CCEAF5');
            })



            //selecting data for Japan side of the chart
        d3.select('svg').selectAll(".Japan").data(Japan)
            .attr('height', function(data) {
              return data;
            })
            .attr('y', function(data) {
                return 202 - data + 50;
            })

            .on('mouseover', function(d,i) {
              console.log("mouseover on", this);
            d3.select(this)
              .transition()
              .attr('fill', 'rgb(183, 214, 176)');
            })

            .on('mouseout', function(d,i) {
              console.log("mouseover out", this);
            d3.select(this)
              .transition()
              .attr('fill', '#614051');
            })

      


        /*
        for (var i = 1; i <= 3; i++) {
          var bar = document.GetElementById("bar" + i);
          bar.setAttribute("height", pets[i-1]);
          bar.setAttribute("y", 102 - pets[i-1] + 50);
        }


        //creating function to draw bar chart
        function drawBarChart() {
          var maxVal = d3.max(gameSales);

          //select data to append
          var selection = d3
            .select("svg")
            .select("g")
            .selectAll("rect")
            .data(record);

          selection.enter().append("rect");
        }

        //retrieving csv file
        d3.csv("gameSalesFinal.csv", function (data) {
          var record = data[0];

          for (var x = 0; x <= 10; x++) {
            record = data[x];
            console.log(record);
          }

          //calling function to draw chart on page
          drawBarChart();
        });
        */
      </script>
    </div>
    <!-- creating footer-->
    <div class="footer">
      <p>&copy; Allyson West N328 Final 2022</p>
    </div>
  </body>
</html>
